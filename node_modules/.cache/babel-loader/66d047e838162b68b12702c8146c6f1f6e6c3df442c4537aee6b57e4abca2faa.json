{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getPackages}from'../services/firestoreService';import'../styles/PackagesList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PackagesList(_ref){let{customerId,familyId}=_ref;const[packages,setPackages]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[filter,setFilter]=useState('all');useEffect(()=>{const fetchPackages=async()=>{setLoading(true);setError('');const result=await getPackages(customerId,familyId);if(result.success){setPackages(result.data);}else{setError(result.error);}setLoading(false);};fetchPackages();},[customerId,familyId]);const filteredPackages=packages.filter(pkg=>{if(filter==='all')return true;return pkg.status===filter;});if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u05D8\\u05D5\\u05E2\\u05DF \\u05D7\\u05D1\\u05D9\\u05DC\\u05D5\\u05EA...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-error\",children:[\"\\u05E9\\u05D2\\u05D9\\u05D0\\u05D4: \",error]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"packages-list-container card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u05D4\\u05D7\\u05D1\\u05D9\\u05DC\\u05D5\\u05EA \\u05E9\\u05DC\\u05D9\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('all'),className:filter==='all'?'active':'',children:\"\\u05DB\\u05DC \\u05D4\\u05D7\\u05D1\\u05D9\\u05DC\\u05D5\\u05EA\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('pending'),className:filter==='pending'?'active':'',children:\"\\u05D1\\u05D4\\u05DE\\u05EA\\u05E0\\u05D4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('in-transit'),className:filter==='in-transit'?'active':'',children:\"\\u05D1\\u05D3\\u05E8\\u05DA\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('delivered'),className:filter==='delivered'?'active':'',children:\"\\u05E0\\u05DE\\u05E1\\u05E8\\u05D5\"})]}),filteredPackages.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-packages\",children:\"\\u05D0\\u05D9\\u05DF \\u05D7\\u05D1\\u05D9\\u05DC\\u05D5\\u05EA \\u05DC\\u05D4\\u05E6\\u05D2\\u05D4.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"packages-grid\",children:filteredPackages.map(pkg=>/*#__PURE__*/_jsxs(\"div\",{className:\"package-card\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\u05D7\\u05D1\\u05D9\\u05DC\\u05D4 \\u05DC: \",pkg.receiverName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05E1\\u05D8\\u05D8\\u05D5\\u05E1:\"}),\" \",pkg.status]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA:\"}),\" \",pkg.receiverAddress]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05E9\\u05DC\\u05D9\\u05D7\\u05D4:\"}),\" \",new Date(pkg.submissionDate.seconds*1000).toLocaleDateString()]})]},pkg.id))})]});}export default PackagesList;","map":{"version":3,"names":["React","useState","useEffect","getPackages","jsx","_jsx","jsxs","_jsxs","PackagesList","_ref","customerId","familyId","packages","setPackages","loading","setLoading","error","setError","filter","setFilter","fetchPackages","result","success","data","filteredPackages","pkg","status","className","children","onClick","length","map","receiverName","receiverAddress","Date","submissionDate","seconds","toLocaleDateString","id"],"sources":["/home/ubuntu/personal-delivery-app/src/components/PackagesList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getPackages } from '../services/firestoreService';\nimport '../styles/PackagesList.css';\n\nfunction PackagesList({ customerId, familyId }) {\n  const [packages, setPackages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [filter, setFilter] = useState('all');\n\n  useEffect(() => {\n    const fetchPackages = async () => {\n      setLoading(true);\n      setError('');\n      const result = await getPackages(customerId, familyId);\n      if (result.success) {\n        setPackages(result.data);\n      } else {\n        setError(result.error);\n      }\n      setLoading(false);\n    };\n\n    fetchPackages();\n  }, [customerId, familyId]);\n\n  const filteredPackages = packages.filter(pkg => {\n    if (filter === 'all') return true;\n    return pkg.status === filter;\n  });\n\n  if (loading) {\n    return <div className=\"loading\">טוען חבילות...</div>;\n  }\n\n  if (error) {\n    return <div className=\"alert alert-error\">שגיאה: {error}</div>;\n  }\n\n  return (\n    <div className=\"packages-list-container card\">\n      <h3>החבילות שלי</h3>\n      <div className=\"filter-controls\">\n        <button onClick={() => setFilter('all')} className={filter === 'all' ? 'active' : ''}>כל החבילות</button>\n        <button onClick={() => setFilter('pending')} className={filter === 'pending' ? 'active' : ''}>בהמתנה</button>\n        <button onClick={() => setFilter('in-transit')} className={filter === 'in-transit' ? 'active' : ''}>בדרך</button>\n        <button onClick={() => setFilter('delivered')} className={filter === 'delivered' ? 'active' : ''}>נמסרו</button>\n      </div>\n\n      {filteredPackages.length === 0 ? (\n        <p className=\"no-packages\">אין חבילות להצגה.</p>\n      ) : (\n        <div className=\"packages-grid\">\n          {filteredPackages.map((pkg) => (\n            <div key={pkg.id} className=\"package-card\">\n              <h4>חבילה ל: {pkg.receiverName}</h4>\n              <p><strong>סטטוס:</strong> {pkg.status}</p>\n              <p><strong>כתובת:</strong> {pkg.receiverAddress}</p>\n              <p><strong>תאריך שליחה:</strong> {new Date(pkg.submissionDate.seconds * 1000).toLocaleDateString()}</p>\n              {/* Add more package details as needed */}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default PackagesList;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}