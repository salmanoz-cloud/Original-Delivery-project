{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Route,Routes,Navigate}from'react-router-dom';import{AuthProvider,useAuth}from'../contexts/AuthContext';import CustomerDashboard from'./CustomerDashboard';import LoginPage from'../auth/LoginPage';import RegisterPage from'../auth/RegisterPage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AuthenticatedCustomerRoutes(){const{user,userRole,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(!user||userRole!=='customer'){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(CustomerDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})})]});}function CustomerApp(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(AuthenticatedCustomerRoutes,{})})]})})});}export default CustomerApp;","map":{"version":3,"names":["React","BrowserRouter","Router","Route","Routes","Navigate","AuthProvider","useAuth","CustomerDashboard","LoginPage","RegisterPage","jsx","_jsx","jsxs","_jsxs","AuthenticatedCustomerRoutes","user","userRole","loading","children","to","replace","path","element","CustomerApp"],"sources":["/home/ubuntu/personal-delivery-app/src/customer-app/App.js"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from '../contexts/AuthContext';\nimport CustomerDashboard from './CustomerDashboard';\nimport LoginPage from '../auth/LoginPage';\nimport RegisterPage from '../auth/RegisterPage';\n\nfunction AuthenticatedCustomerRoutes() {\n  const { user, userRole, loading } = useAuth();\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (!user || userRole !== 'customer') {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  return (\n    <Routes>\n      <Route path=\"/dashboard\" element={<CustomerDashboard />} />\n      <Route path=\"*\" element={<Navigate to=\"/dashboard\" replace />} />\n    </Routes>\n  );\n}\n\nfunction CustomerApp() {\n  return (\n    <Router>\n      <AuthProvider>\n        <Routes>\n          <Route path=\"/login\" element={<LoginPage />} />\n          <Route path=\"/register\" element={<RegisterPage />} />\n          <Route path=\"/*\" element={<AuthenticatedCustomerRoutes />} />\n        </Routes>\n      </AuthProvider>\n    </Router>\n  );\n}\n\nexport default CustomerApp;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,KAAK,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,OAASC,YAAY,CAAEC,OAAO,KAAQ,yBAAyB,CAC/D,MAAO,CAAAC,iBAAiB,KAAM,qBAAqB,CACnD,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,2BAA2BA,CAAA,CAAG,CACrC,KAAM,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,OAAQ,CAAC,CAAGX,OAAO,CAAC,CAAC,CAE7C,GAAIW,OAAO,CAAE,CACX,mBAAON,IAAA,QAAAO,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAEA,GAAI,CAACH,IAAI,EAAIC,QAAQ,GAAK,UAAU,CAAE,CACpC,mBAAOL,IAAA,CAACP,QAAQ,EAACe,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA,mBACEP,KAAA,CAACV,MAAM,EAAAe,QAAA,eACLP,IAAA,CAACT,KAAK,EAACmB,IAAI,CAAC,YAAY,CAACC,OAAO,cAAEX,IAAA,CAACJ,iBAAiB,GAAE,CAAE,CAAE,CAAC,cAC3DI,IAAA,CAACT,KAAK,EAACmB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEX,IAAA,CAACP,QAAQ,EAACe,EAAE,CAAC,YAAY,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,EAC3D,CAAC,CAEb,CAEA,QAAS,CAAAG,WAAWA,CAAA,CAAG,CACrB,mBACEZ,IAAA,CAACV,MAAM,EAAAiB,QAAA,cACLP,IAAA,CAACN,YAAY,EAAAa,QAAA,cACXL,KAAA,CAACV,MAAM,EAAAe,QAAA,eACLP,IAAA,CAACT,KAAK,EAACmB,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEX,IAAA,CAACH,SAAS,GAAE,CAAE,CAAE,CAAC,cAC/CG,IAAA,CAACT,KAAK,EAACmB,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEX,IAAA,CAACF,YAAY,GAAE,CAAE,CAAE,CAAC,cACrDE,IAAA,CAACT,KAAK,EAACmB,IAAI,CAAC,IAAI,CAACC,OAAO,cAAEX,IAAA,CAACG,2BAA2B,GAAE,CAAE,CAAE,CAAC,EACvD,CAAC,CACG,CAAC,CACT,CAAC,CAEb,CAEA,cAAe,CAAAS,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}